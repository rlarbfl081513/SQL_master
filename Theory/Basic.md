# ✅ 집계함수란?
**집계함수(Aggregate Function)**는 말 그대로 **여러 행의 값을 하나로 \"집계\"해서 하나의 값을 반환하는 함수**야.

### 대표적인 집계함수들:
| 함수 | 설명 |
|------|------|
| `MAX(column)` | 가장 큰 값 |
| `MIN(column)` | 가장 작은 값 |
| `SUM(column)` | 합계 |
| `AVG(column)` | 평균 |
| `COUNT(column)` | 개수 |

> 이 함수들을 쓰면 **여러 행의 데이터가 1개의 값으로 축약돼서 반환**돼.

---

## ❗그럼 `name`은 왜 문제가 되는가?

예를 들어 이런 테이블이 있다고 해보자:

| departmentId | name  | salary |
|--------------|-------|--------|
| 1            | Alice | 500    |
| 1            | Bob   | 500    |

이 상태에서 이런 쿼리를 실행하면:

```sql
SELECT name, MAX(salary)
FROM employees
WHERE departmentId = 1;
```

- `MAX(salary)`는 집계함수니까 → 결과는 `500` (한 줄로 요약됨)
- 그런데 `name`은 집계함수가 아님 → 이건 어떻게 하나?

### 💥 이럴 때 문제 발생!
- `name`은 부서 1번에서 **Alice, Bob 두 명이 존재**함.
- 하지만 `MAX(salary)`와 함께 쿼리 결과는 **1행만 나와야 해.**
- 그래서 DB는 “그냥 name 하나 골라서 아무거나 보여줄게~” 하고 **Alice 또는 Bob 중 하나를 임의로 보여줘.**

✅ **즉, 모든 값을 다 보여주는 게 아니라, 다수 중에서 하나만 '선택적으로' 보여주는 거야.**

> 📌 이건 사실 **SQL 표준에 어긋나고**, MySQL, SQLite 같은 일부 DB만 허용해.  
> PostgreSQL이나 Oracle 같은 DB에서는 **에러를 내기도 해!**

---

## 🔎 정리하면

| 항목 | 집계함수인가? | 여러 값 있을 때 처리 방식 |
|------|---------------|---------------------------|
| `MAX(salary)` | ✅ O | 여러 행 → 하나의 값으로 압축 |
| `name` | ❌ X | 집계함수 안 쓰면 DB가 **임의 선택** 또는 **에러** |

---

## ✍️ 한 문장 요약

> 집계함수가 아닌 컬럼(`name`)을 집계함수(`MAX`)와 함께 SELECT하면, 여러 값 중 하나를 **임의로 선택해서 반환**하거나, 아예 **오류가 발생**할 수 있다. 모든 값을 반환하는 건 아니고, **정확히 누구인지는 신뢰할 수 없다.**